<!--
  Generated template for the GeneralPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Creating General Project</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>

  <form #f="ngForm" [formGroup]="generalForm" (ngSubmit)="onSubmit(f)">

  <p>Requirements</p>
  <ion-list color="secondary">
    <ion-item>
      <ion-label>Local Contractors Only</ion-label>
      <ion-toggle [(ngModel)]="local"  color="purpleish" formControlName="local"></ion-toggle>
    </ion-item>

    <ion-item>
      <ion-label>Include Supplies</ion-label>
      <ion-toggle [(ngModel)]="supplies"  color="purpleish" formControlName="supplies"></ion-toggle>
    </ion-item>

    <ion-item>
      <ion-label>Include Install Costs</ion-label>
      <ion-toggle [(ngModel)]="installation"  color="purpleish" formControlName="installation"></ion-toggle>
    </ion-item>

    <ion-item>
      <ion-label>Licensed Contractor Only</ion-label>
      <ion-toggle [(ngModel)]="licensed"  color="purpleish" formControlName="licensed"></ion-toggle>
    </ion-item>
  </ion-list>



    <ion-grid>
      <ion-row>
        <ion-col col-12 >
          <ion-card class="block">
            <<p>Record Requirements</p>
          </ion-card>
        </ion-col>
      </ion-row>

    <ion-card>
      <ion-card-content>
        <ion-card-title>
          <button ion-button primary (click)="stopRecord()" *ngIf="recording"><ion-icon name="mic-off"></ion-icon>&nbsp;&nbsp;Stop Record</button>
          <button ion-button primary (click)="startRecord()" *ngIf="!recording"><ion-icon name="mic"></ion-icon>&nbsp;&nbsp;Start Record</button>
        </ion-card-title>
      </ion-card-content>
    </ion-card>
    <ion-list>
      <ion-item *ngFor="let audio of audioList; index as i;">
        <p>{{audio.filename}}</p>
        <button ion-button clear item-end large (click)="playAudio(audio.filename, i)"><ion-icon name="play"></ion-icon></button>
      </ion-item>
    </ion-list>


  <p>Approximate Budget</p>

    <ion-range min="100" max="1000" step="10" [(ngModel)]="bugetRange" color="secondary" formControlName="bugetRange">
      <ion-label range-left>$100</ion-label>
      <ion-label range-right>$1000</ion-label>
    </ion-range>
  <p>BUDGET: {{bugetRange || 0 | currency}}</p>

  <ion-list radio-group [(ngModel)]="timeFrame" formControlName="timeFrame">
    <ion-list-header>
      Time Frame
    </ion-list-header>
    <ion-item>
      <ion-label>Immediate</ion-label>
      <ion-radio value="Immediate"></ion-radio>
    </ion-item>

    <ion-item>
      <ion-label>Two Weeks</ion-label>
      <ion-radio value="Two Weeks"></ion-radio>
    </ion-item>

    <ion-item>
      <ion-label>Other</ion-label>
      <ion-radio value="Other"></ion-radio>
    </ion-item>

  </ion-list>

  <button ion-button round (click)="takePhoto()" >
    <ion-icon name="camera" padding-right></ion-icon> Take Photo
  </button>

  <ion-grid>
    <ion-row>
      <ion-col col-6 >
        <ion-card class="block">
          <ion-icon  name="trash" class="deleteIcon"></ion-icon>
          <img src="assets/imgs/window_project.jpg" />
        </ion-card>
      </ion-col>

      <ion-col col-6 *ngFor="let photo of photos; let id = index">
        <ion-card class="block">
          <ion-icon name="trash" class="deleteIcon" (click)="deletePhoto(id)"></ion-icon>
          <img [src]="photo" *ngIf="photo" />
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
    <ion-grid>
      <ion-row>
        <ion-col text-center col-sm-6><button ion-button type="reset" round text-center>Reset</button></ion-col>
        <ion-col text-center col-sm-6><button ion-button type="submit" round text-center>Submit</button></ion-col>
      </ion-row>
    </ion-grid>
  </form>

  <ion-grid>
    <ion-row>
      <ion-col text-center col-sm-6><button ion-button (click)="save()" round text-center>Save</button></ion-col>
      <ion-col text-center col-sm-6><button ion-button (click)="cancel()" round text-center>Cancel</button></ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
